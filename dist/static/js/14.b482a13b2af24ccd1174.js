webpackJsonp([14],{"+LwI":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("1sNz"),a=s("ABCa"),n=s("wpcj"),i=s("pDNl"),r=s("rHil"),c=s("2sLL"),u=(o.a,a.a,n.a,i.a,r.a,c.a,{name:"myRegister",components:{ViewBox:o.a,XHeader:a.a,Qrcode:n.a,XInput:i.a,Group:r.a,XButton:c.a},created:function(){},mounted:function(){this.wxCode=this.$route.query.code},data:function(){return{userInfo:"",phone:"",password:"",captcha:"",show:!0,count:"",timer:null,invideCode:"",wxCode:""}},methods:{queryUser:function(){var t=this;this.$vux.loading.show(),this.$api.queryUser({}).then(function(e){200===e.code&&(t.userInfo=e.data.user),t.$vux.loading.hide()})},getCode:function(){var t=this;""!=this.phone?this.timer||(this.count=60,this.show=!1,this.sendSms(),this.timer=setInterval(function(){t.count>0&&t.count<=60?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)},1e3)):this.$vux.toast.text("手机号不得为空","top")},sendSms:function(){var t=this;this.$api.sendSms({mobile:this.phone}).then(function(e){200===e.code||t.$vux.toast.text(e.message,"top")})},goRegister:function(){var t=this;this.$api.register({mobile:this.phone,captcha:this.captcha,password:this.password,wechatCode:this.wxCode}).then(function(e){200===e.code?(t.$vux.toast.text("注册成功","top"),localStorage.setItem("token",e.data.jwt),t.$router.push("/mine")):t.$vux.toast.text(e.message,"top")})}}}),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"myRegister"},[s("h3",{staticClass:"myRegister-head"},[t._v("会员注册")]),t._v(" "),s("group",[s("x-input",{attrs:{title:"",placeholder:"输入手机号","is-type":"china-mobile"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),s("x-input",{attrs:{title:"",placeholder:"输入验证码"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}},[t.show?s("x-button",{attrs:{slot:"right",type:"primary",mini:""},nativeOn:{click:function(e){return t.getCode(e)}},slot:"right"},[t._v("获取验证码")]):t._e(),t._v(" "),t.show?t._e():s("x-button",{attrs:{slot:"right",type:"default",mini:"",disabled:""},slot:"right"},[t._v(t._s(t.count))])],1),t._v(" "),s("x-input",{attrs:{title:"",type:"password",placeholder:"输入4-16位密码",min:4,max:16},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("x-button",{staticClass:"register-btn",attrs:{type:"primary"},nativeOn:{click:function(e){return t.goRegister(e)}}},[t._v("注册")])],1)},staticRenderFns:[]};var l=s("VU/8")(u,h,!1,function(t){s("OK/m")},"data-v-f9219d10",null);e.default=l.exports},"OK/m":function(t,e){}});
//# sourceMappingURL=14.b482a13b2af24ccd1174.js.map