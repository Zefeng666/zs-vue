webpackJsonp([8],{"/0UN":function(e,t,s){"use strict";String,String,String,String,String,Number,Array,Object,Number,Boolean;var a={name:"checker",props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,type:{type:String,default:"radio"},value:[String,Number,Array,Object],max:Number,radioRequired:Boolean},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{currentValue:this.value}}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-checker-box"},[this._t("default")],2)},staticRenderFns:[]};var i=s("VU/8")(a,r,!1,function(e){s("Luh7")},null,null);t.a=i.exports},"5GWa":function(e,t){},IkC2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),r=s.n(a),i=s("1sNz"),n=s("ABCa"),l=s("odqc"),o=s("Znkm"),d=s("fBcm"),u=s("b+jt"),c=s("1DHf"),p=s("rHil"),h=s("pDNl"),v=s("7Ah8"),f=s("2sLL"),g=s("QTi7"),m=s("cHu4"),b=s("FHgB"),x=s.n(b),$=s("/0UN"),O=s("hGvq"),y=s("/kga"),j=(i.a,n.a,l.a,o.a,d.a,u.a,c.a,p.a,h.a,v.a,f.a,g.a,m.a,x.a,$.a,O.a,y.a,{name:"upgradeOrder",components:{ViewBox:i.a,XHeader:n.a,Tab:l.a,TabItem:o.a,Swiper:d.a,SwiperItem:u.a,Cell:c.a,Group:p.a,XInput:h.a,PopupPicker:v.a,XButton:f.a,Box:g.a,XAddress:m.a,ChinaAddressV4Data:x.a,Checker:$.a,CheckerItem:O.a,XDialog:y.a},created:function(){"{}"===r()(this.$route.params)?this.queryUserAddress():(this.getGoodsObj.addressId=this.$route.params.addressId,this.getGoodsObj.addressName=this.$route.params.addressName),this.queryUser()},mounted:function(){for(var e=[],t=0;t<30;t++)e.push(this.addressData[t].name);this.provinceData.push(e)},computed:{payMoney:function(){return"经销商"===this.getGoodsObj.level[0]?2980:"区县合伙人"===this.getGoodsObj.level[0]?29800:"城市合伙人"===this.getGoodsObj.level[0]?298e3:"分公司"===this.getGoodsObj.level[0]?6e5:0},goodNum:function(){return"经销商"===this.getGoodsObj.level[0]?10:"区县合伙人"===this.getGoodsObj.level[0]?100:"城市合伙人"===this.getGoodsObj.level[0]?1e3:"分公司"===this.getGoodsObj.level[0]?2e3:0}},data:function(){return{index:0,checkerWhich:2,userInfo:{},productInfo:{},getGoodsObj:{quantity:"",addressId:"",proxyProvince:[],proxyCity:"",proxyArea:"",addressName:"",addressValue:[],level:[]},orderList:[],addressData:x.a,provinceData:[],levelData:[],showToast:!1}},methods:{queryUser:function(){var e=this;this.$api.queryUser({}).then(function(t){if(200===t.code){e.userInfo=t.data.user,e.queryProduct();var s=[];s=1===e.userInfo.vipLevel?["区县合伙人","城市合伙人","分公司"]:2===e.userInfo.vipLevel?["城市合伙人","分公司"]:3===e.userInfo.vipLevel?["分公司"]:4===e.userInfo.vipLevel?["已经是最高级别"]:["经销商","区县合伙人","城市合伙人","分公司"],e.levelData.push(s)}else e.$vux.toast.text(t.message,"top")})},queryUserAddress:function(){var e=this;this.$api.queryUserAddress({}).then(function(t){200===t.code&&(t.data.address.length<1?e.getGoodsObj.addressName="无":(e.getGoodsObj.addressId=t.data.address[0].id,e.getGoodsObj.addressName=t.data.address[0].province+t.data.address[0].city+t.data.address[0].area+t.data.address[0].detail))})},queryProduct:function(){var e=this;this.$api.queryProduct().then(function(t){if(200===t.code)switch(e.productInfo=t.data.product,e.userInfo.vipLevel){case 0:e.price=.7*e.productInfo.price;break;case 1:e.price=.65*e.productInfo.price;break;case 2:e.price=.6*e.productInfo.price;break;case 3:e.price=.55*e.productInfo.price;break;case 4:e.price=.5*e.productInfo.price;break;default:e.price=e.productInfo.price}else e.$vux.toast.text(t.message,"top")})},insertUpgradeOrder:function(e){var t={};if(!this.getGoodsObj.addressId)return this.$vux.toast.text("请添加地址后再报单~","top");if("经销商"===this.getGoodsObj.level[0])t.vipLevel=1;else if("区县合伙人"===this.getGoodsObj.level[0]){var s=this.$refs.address1.nameValue.split(" ");if(""===s[0])return this.$vux.toast.text("请选择代理地区","top");t.address=s[0]+"-"+s[1]+"-"+s[2],t.vipLevel=2}else if("城市合伙人"===this.getGoodsObj.level[0]){var a=this.$refs.address2.nameValue.split(" ");if(""===a[0])return this.$vux.toast.text("请选择代理地区","top");t.address=a[0]+"-"+a[1],t.vipLevel=3}else if("分公司"===this.getGoodsObj.level[0]){if(0===this.getGoodsObj.proxyProvince.length)return this.$vux.toast.text("请选择代理地区","top");t.address=this.getGoodsObj.proxyProvince[0],t.vipLevel=4}t.addressId=this.getGoodsObj.addressId,t.productId=this.productInfo.productId,t.isOffline=e},onBridgeReady:function(e,t,s,a,r){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e,timeStamp:r.toString(),nonceStr:t,package:s,signType:"MD5",paySign:a},function(e){"get_brand_wcpay_request:ok"==e.err_msg?this.$vux.toast.text("支付成功","top"):this.$vux.toast.text("支付失败","top")})},toSelectAddress:function(){this.$router.push({name:"selectAddress",params:{addressId:this.getGoodsObj.addressId,addressName:this.getGoodsObj.addressName,from:"upgradeOrder"}})},toSale:function(){this.$router.push({name:"sales"})},selectChecker:function(e){console.log(e)}}}),G={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"upgradeOrder"},[s("x-header",{staticClass:"vux-1px-b my-header",attrs:{"left-options":{backText:"",preventGoBack:!0},fixed:""},on:{"on-click-back":function(t){e.toSale()}}},[e._v("我要升级")]),e._v(" "),s("div",{staticClass:"swiper-box"},[s("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"right"}},[s("cell",{attrs:{title:"拿货地址","align-items":"flex-start",value:e.getGoodsObj.addressName,"value-align":"left","is-link":""},nativeOn:{click:function(t){e.toSelectAddress()}}}),e._v(" "),s("popup-picker",{attrs:{title:"申请等级",data:e.levelData,placeholder:"请选择","value-text-align":"left"},model:{value:e.getGoodsObj.level,callback:function(t){e.$set(e.getGoodsObj,"level",t)},expression:"getGoodsObj.level"}}),e._v(" "),s("cell",{attrs:{title:"支付金额","align-items":"flex-start",value:e.payMoney,"value-align":"left"}}),e._v(" "),s("cell",{attrs:{title:"附赠商品","align-items":"flex-start",value:e.goodNum+"瓶","value-align":"left"}}),e._v(" "),s("popup-picker",{directives:[{name:"show",rawName:"v-show",value:"分公司"===e.getGoodsObj.level[0],expression:"getGoodsObj.level[0] === '分公司'"}],attrs:{title:"代理省份",data:e.provinceData,placeholder:"请选择地址","value-text-align":"left"},model:{value:e.getGoodsObj.proxyProvince,callback:function(t){e.$set(e.getGoodsObj,"proxyProvince",t)},expression:"getGoodsObj.proxyProvince"}}),e._v(" "),s("x-address",{directives:[{name:"show",rawName:"v-show",value:"区县合伙人"===e.getGoodsObj.level[0],expression:"getGoodsObj.level[0] === '区县合伙人'"}],ref:"address1",staticClass:"addresstitle",attrs:{title:"代理县区","value-text-align":"left",list:e.addressData,placeholder:"请选择地址","hide-district":!1}}),e._v(" "),s("x-address",{directives:[{name:"show",rawName:"v-show",value:"城市合伙人"===e.getGoodsObj.level[0],expression:"getGoodsObj.level[0] === '城市合伙人'"}],ref:"address2",staticClass:"addresstitle",attrs:{title:"代理城市","value-text-align":"left",list:e.addressData,placeholder:"请选择地址","inline-desc":"","hide-district":!0}})],1),e._v(" "),s("x-button",{staticClass:"submit-btn",attrs:{type:"primary"},nativeOn:{click:function(t){e.showToast=!0}}},[e._v("立即支付")])],1),e._v(" "),s("x-dialog",{staticClass:"dialog-demo",attrs:{"hide-on-blur":""},model:{value:e.showToast,callback:function(t){e.showToast=t},expression:"showToast"}},[s("div",{staticStyle:{padding:"15px"}},[s("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.insertUpgradeOrder(0)}}},[e._v("微信支付")]),e._v(" "),s("x-button",{attrs:{type:"default"},nativeOn:{click:function(t){e.insertUpgradeOrder(1)}}},[e._v("线下支付")])],1),e._v(" "),s("div",{on:{click:function(t){e.showToast=!1}}},[s("span",{staticStyle:{"font-size":"16px"}},[e._v("关闭")])])])],1)},staticRenderFns:[]};var I=s("VU/8")(j,G,!1,function(e){s("5GWa")},"data-v-71ff18d0",null);t.default=I.exports},Luh7:function(e,t){},QTi7:function(e,t,s){"use strict";String;var a={name:"box",props:{gap:String}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{style:{margin:this.gap}},[this._t("default")],2)},staticRenderFns:[]},i=s("VU/8")(a,r,!1,null,null,null);t.a=i.exports},dPZ0:function(e,t){},hGvq:function(e,t,s){"use strict";var a=s("mvHQ"),r=s.n(a),i=s("pFYg"),n=s.n(i);String,Number,Object,Boolean;var l={name:"checker-item",props:{value:{type:[String,Number,Object],required:!0},disabled:Boolean},watch:{disabled:function(e){e&&"radio"===this.$parent.type&&this.value===this.$parent.currentValue&&(this.$parent.currentValue="")}},computed:{classNames:function(){var e=this,t="string"==typeof this.value||"number"==typeof this.value,s={"vux-tap-active":!this.disabled};if(this.$parent.defaultItemClass&&(s[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass){var a=!1;if("radio"===this.$parent.type)t&&this.$parent.currentValue===this.value?a=!0:"object"===n()(this.value)&&o(this.$parent.currentValue,this.value)&&(a=!0);else if("string"==typeof this.value)this.$parent.currentValue.indexOf(this.value)>-1&&(a=!0);else if(this.$parent.currentValue&&this.$parent.currentValue.length){a=this.$parent.currentValue.filter(function(t){return o(t,e.value)}).length>0}s[this.$parent.selectedItemClass]=a}return this.$parent.disabledItemClass&&(s[this.$parent.disabledItemClass]=this.disabled),s}},methods:{select:function(){"radio"===this.$parent.type?this.selectRadio():this.selectCheckbox()},selectRadio:function(){this.disabled||(this.$parent.currentValue===this.value?this.$parent.radioRequired||(this.$parent.currentValue=""):this.$parent.currentValue=this.value),this.$emit("on-item-click",this.value,this.disabled)},selectCheckbox:function(){this.$parent.currentValue&&null!==this.$parent.currentValue||(this.$parent.currentValue=[]);var e="string"==typeof this.value||"number"==typeof this.value;if(!this.disabled){var t=-1;(t=e?this.$parent.currentValue.indexOf(this.value):this.$parent.currentValue.map(function(e){return r()(e)}).indexOf(r()(this.value)))>-1?this.$parent.currentValue.splice(t,1):(!this.$parent.max||this.$parent.max&&null!==this.$parent.currentValue&&this.$parent.currentValue.length<this.$parent.max)&&(this.$parent.currentValue&&this.$parent.currentValue.length||(this.$parent.currentValue=[]),this.$parent.currentValue.push(this.value))}this.$emit("on-item-click",this.value,this.disabled)}}};function o(e,t){return r()(e)===r()(t)}var d={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-checker-item",class:this.classNames,on:{click:this.select}},[this._t("default")],2)},staticRenderFns:[]};var u=s("VU/8")(l,d,!1,function(e){s("dPZ0")},null,null);t.a=u.exports}});
//# sourceMappingURL=8.5bea6a6011c0a7bbfcd8.js.map